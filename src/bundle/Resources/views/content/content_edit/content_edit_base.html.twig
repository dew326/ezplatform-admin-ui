{% extends 'EzPlatformAdminUiBundle::layout.html.twig' %}

{% trans_default_domain 'content_edit' %}
{% form_theme form with 'EzPlatformAdminUiBundle:content:form_fields.html.twig' %}

{% block bodyClass %}ez-standalone-page{% endblock %}
{% block navigation %}{% endblock %}
{% block content %}
    <div class="row align-items-stretch ez-main-row">
        {% block left_sidebar %}{% endblock left_sidebar %}
        <div class="container px-0 pb-4 mt-5">
            {% block details %}{% endblock %}

            {% block form %}
                {{ form_start(form) }}

                {% block form_fields %}
                    {% for field in form.fieldsData -%}
                        {% if field.value is defined %}
                            {{- form_row(field.value) -}}
                        {% else %}
                            <div>
                                {{- form_label(field) -}}
                                <p class="non-editable">
                                    {{ "content.field.non_editable"|trans|desc('Field type is not editable') }}
                                </p>
                                {% do field.setRendered() %}
                            </div>
                        {% endif %}
                    {%- endfor %}
                {% endblock %}

                {{ form_end(form) }}
            {% endblock %}
        </div>




        <div class="col-sm-1 pt-4 bg-secondary ez-context-menu">
            {% block right_sidebar %}{% endblock %}

            <button class="ez-btn--extra-actions ez-btn--publish-later btn btn-secondary btn-block" data-actions="publish-later">
                <svg class="ez-icon ez-icon--publish-later">
                    <use xlink:href="{{ asset('bundles/ezplatformadminui/img/ez-icons.svg') }}#publish-later"></use>
                </svg>
                Publish later
            </button>

            <div class="ez-extra-actions-container">
                <div class="ez-extra-actions ez-extra-actions--publish-later bg-secondary ez-extra-actions--hidden dbp-publish-later" data-actions="publish-later">
                    <div class="ez-extra-actions__header">Future publication settings</div>
                    <div class="ez-extra-actions__content">
                        <div class="dbp-publish-later__pick">
                            <span class="dbp-publish-later__pick-label">Date & Time</span>
                            <input class="form-control dbp-publish-later__pick-input flatpickr flatpickr-date-input" readonly="readonly" type="text">
                        </div>
                        <div class="dbp-publish-later__actions" hidden>
                            <button type="button" class="btn btn-primary ez-btn--confirm-schedule ez-btn--wide">Confirm</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block javascripts %}
    {%  javascripts
        '@EzPlatformAdminUiBundle/Resources/public/js/alloyeditor/dist/*.js'
        '@EzPlatformAdminUiAssetsBundle/Resources/public/vendors/flatpickr/dist/flatpickr.js'
        '@EzPlatformAdminUiBundle/Resources/public/js/scripts/admin.content.edit.js'
        '@EzPlatformAdminUiBundle/Resources/public/js/scripts/date.based.publisher.js'
        '@EzPlatformAdminUiBundle/Resources/public/js/scripts/fieldType/base/base-field.js'
        '@EzPlatformAdminUiBundle/Resources/public/js/scripts/fieldType/base/base-file-field.js'
        '@EzPlatformAdminUiBundle/Resources/public/js/scripts/fieldType/base/base-preview-field.js'
        '@EzPlatformAdminUiBundle/Resources/public/js/scripts/fieldType/*'
        'bundles/ezplatformadminui/js/scripts/sidebar/extra.actions.js'
    %}
        <script type="text/javascript" src="{{ asset_url }}"></script>
    {% endjavascripts %}
{% endblock %}

{% block stylesheets %}
    {% stylesheets
        'bundles/ezplatformadminui/css/alloyeditor/alloyeditor-ez.css'
        '@EzPlatformAdminUiAssetsBundle/Resources/public/vendors/flatpickr/dist/flatpickr.min.css'
    %}
        <link rel="stylesheet" href="{{ asset_url }}" />
    {% endstylesheets %}
{% endblock %}
